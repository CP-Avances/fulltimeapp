<app-close-modal titleModal="Actualizar Autorización"></app-close-modal>

<ion-content>

  <ion-text mode="ios" color="dark" style="text-align: center;">
    <br>
    <h3>{{ labelAutorizacion }}</h3>
  </ion-text>

  <form #formRegistro="ngForm" *ngIf="showForm; else showMessageAutorizacion">

    <div class="Contenido">
      <ion-item  class="stilo_selection" color="horas_extras">
        <ion-label position="floating">Autorización</ion-label>
        <ion-select mode="ios" interface="popover" style="color: rgb(0, 0, 0);" placeholder="Pendiente" name="estado" [(ngModel)]="autorizacion.estado" okText="Guardar" cancelText="Cancelar" (ionChange)="ChangeEstado()" required>
          <ion-select-option *ngFor="let e of estadoSelectItems" [value]="e.id"> {{ e.nombre }} </ion-select-option>
        </ion-select>
      </ion-item>
    </div>
    
    <ng-container *ngIf="permiso !== undefined">
      <app-show-permiso [permiso]="permiso"></app-show-permiso>
    </ng-container>
  
    <ng-container *ngIf="vacacion !== undefined">
      <app-show-vacacion [vacacion]="vacacion"></app-show-vacacion>
    </ng-container>
  
    <ng-container *ngIf="hora_extra !== undefined">
      <app-show-hora-extra [hora_extra]="hora_extra"> </app-show-hora-extra>
    </ng-container>
    
    <div style="text-align:center; width: 100%; margin: 2% 0% 4% 0%;">
      <btn-update (onUpdate)="UpdateRegister()" [loadingBtn]="loadingBtn" [formRegistro]="formRegistro"></btn-update>
    </div> 
    
  </form>

  <ng-template #showMessageAutorizacion>
    <ion-text mode="ios" color="primary" style="text-align: center;">
      <br>
      <h3> No hay autorización para este registro de {{ labelAutorizacion | lowercase }} </h3>
      <br>
    </ion-text>
  </ng-template>

  <ng-container *ngIf="permiso === undefined && vacacion === undefined && hora_extra === undefined">
    <ion-text mode="ios" color="danger" style="text-align: center;">
      <br>
      <h3 style="margin: 0px 20px;"> No se puede procesar la información porque no coincide el código de empleado del
        registro de {{ labelAutorizacion | lowercase }} con los registros de empleados del sistema. </h3>
      <br>
    </ion-text>
  </ng-container>


</ion-content>