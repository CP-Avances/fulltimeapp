<ng-container *ngIf="loading; then showSkeletor else showList"></ng-container>

<ng-template #showSkeletor>
  <ion-list>
    <ion-list-header>
      <ion-label>
        <ion-skeleton-text animated style="width: 20%"></ion-skeleton-text>
      </ion-label>
    </ion-list-header>
    <ion-item *ngFor="let s of skeleton">
      <ion-label>
        <h3>
          <ion-skeleton-text animated [style]="{width: s.h3 }"></ion-skeleton-text>
        </h3>
        <p>
          <ion-skeleton-text animated [style]="{width: s.p1 }"></ion-skeleton-text>
        </p>
        <p>
          <ion-skeleton-text animated [style]="{width: s.p2 }"></ion-skeleton-text>
        </p>
      </ion-label>
    </ion-item>
  </ion-list>
</ng-template>
<ng-template #showList>
  <app-refresh-info (onRefresh)="ngOnInit()" removeItem="noClean"></app-refresh-info>

  <ion-button expand="full" shape="round" style="margin: 10px 10px" color="primary"
    (click)="presentModalNuevoRegistro( )">
    <ion-icon slot="start" name="add-circle-outline"></ion-icon>
    Nueva hora extra
  </ion-button>

  <ion-list-header>
    <ion-label style="text-align: center;">
      <h2>Tus Horas Extras</h2>
    </ion-label>
  </ion-list-header>

  <ion-card *ngFor="let hora_extra of horas_extras | paginate: { itemsPerPage: 5, currentPage: pageActual } " mode="md"
    style="margin-top: 5%; border: solid 1px rgb(123, 124, 125);" [color]="colorfondocard(hora_extra)">
    <ion-item>
      <div class="etiqueta" slot="start">
        <p style="font-size: 62%; margin-top: -4%;">
          <strong> Solicitud {{ hora_extra.id }} </strong>
        </p>
        <ion-icon class="icono" name="timer-outline" slot="start"></ion-icon>
        <ion-text class="icono_texto">
          <p class="servicio">
            <strong> Hora Extra </strong>
          </p>
          <p *ngIf="hora_extra.estado == 1 " class="pendiente">
            Pendiente
          </p>
          <p *ngIf="hora_extra.estado == 2" class="pre_autorizado">
            Pre Autorizada
          </p>
          <p *ngIf="hora_extra.estado == 3" class="autorizada">
            Autorizada
          </p>
          <p *ngIf="hora_extra.estado == 4" class="negado">
            Negada
          </p>
        </ion-text>
      </div>

     
      <div class="info">
        <p>
          <ion-text>
            <strong>Fecha</strong><br>
            Desde: {{ hora_extra.fecha_inicio_ }}<br>
            Hasta: {{ hora_extra.fecha_fin_ }}
          </ion-text>
          <br>
          <ion-text>
            <strong>Horas</strong><br>
            Inicio: {{ hora_extra.hora_inicio_ }}<br>
            Fin: {{ hora_extra.hora_fin_ }}
          </ion-text>
          <br>
          <ion-text>
            <strong>Tiempo: </strong> 
            {{ hora_extra.num_hora }} horas
          </ion-text>
        </p>
      </div>

      <div slot="end" style="text-align: center; font-size: 20px;">
        <!-- Ver registro -->
        <ion-icon name="eye-outline" (click)="presentModalVerRegistro( hora_extra )"></ion-icon><br>
        <!-- Editar registro -->
        <ion-icon *ngIf="hora_extra.estado === 1" name="create-outline"
          (click)="presentModalEditarRegistro( hora_extra )" style="margin-bottom:15%;"></ion-icon><br>
        <!-- Eliminar registro -->
        <btn-delete *ngIf="hora_extra.estado === 1" (onDelete)="ngOnInit()" [isButtom]="false"
          nameTable="hora_extr_pedidos" [idreg]="hora_extra.id" [userCodigo]="hora_extra.codigo"></btn-delete>
      </div>
    </ion-item>

    <ion-label style="font-size: 11px; margin: 2%; float:right">
      <strong> Solicitud realizada &nbsp; {{ hora_extra.fec_solicita_ }} </strong>
    </ion-label>
  </ion-card>

  <!--Configuracion del Pagination - ngxPaginationModulo-->
  <ion-item style="font-size: 70%; margin: 1% 0% 1% 0%;" [hidden]="ver">
    <pagination-controls 
      class="paginacion" 
      (pageChange)="pageActual = $event"
      [maxSize] = maxSize
      [directionLinks] = directionLinks
      [responsive] = responsive 
      [autoHide]="autoHide"
      [previousLabel]="labels.previousLabel"
      [nextLabel]="labels.nextLabel"
      [screenReaderPaginationLabel]="labels.screenReaderPaginationLabel"
      [screenReaderPageLabel]="labels.screenReaderPageLabel"
      [screenReaderCurrentLabel]="labels.screenReaderCurrentLabel">
    </pagination-controls>
  </ion-item>

</ng-template>